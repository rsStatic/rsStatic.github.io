jQuery(function() {
  jQuery("th, td").css("padding", ".3em .6em");
  jQuery("#generate").click(function() {
    var output = ""; var hostname = "";
    if(jQuery("#hostname").val()=="") {
      hostname = "Garry's Mod Server";
    } else {
      hostname = jQuery("#hostname").val();
    }
    output += "//Garry's Mod server.cfg - Autogenerated with http://robinschoors.com/?p=244\n";
    output += "logging\t"+jQuery("#log").val()+'\n';
    output += "hostname\t\""+hostname+'\"\n';
    output += "rcon_password\t\""+jQuery("#rcon_password").val()+"\"\n";
    output += "sv_password\t\""+jQuery("#sv_password").val()+"\"\n";
    output += "sv_region\t"+parseInt(jQuery("#sv_region").val())+"\n";
    output += "sv_lan\t"+parseInt(jQuery("#sv_lan").val())+"\n";
    output += "sv_logbans\t"+parseInt(jQuery("#sv_logbans").val())+"\n";
    output += "sv_logecho\t"+parseInt(jQuery("#sv_logecho").val())+"\n";
    output += "sv_logfile\t"+parseInt(jQuery("#sv_logfile").val())+"\n";
    output += "sv_log_onefile\t"+parseInt(jQuery("#sv_log_onefile").val())+"\n";
    output += "sv_noclipspeed\t"+parseInt(jQuery("#sv_noclipspeed").val())+"\n";
    output += "sv_noclipaccelerate\t"+parseInt(jQuery("#sv_noclipaccelerate").val())+"\n";
    output += "//Sandbox Settings\n"
    output += "sbox_allownpcs\t"+parseInt(jQuery("#sbox_allownpcs").val())+"\n";
    output += "sbox_godmode\t"+parseInt(jQuery("#sbox_godmode").val())+"\n";
    output += "sbox_plpldamage\t"+parseInt(jQuery("#sbox_plpldamage").val())+"\n";
    output += "sbox_playergod\t"+parseInt(jQuery("#sbox_playergod").val())+"\n";
    output += "sbox_noclip\t"+parseInt(jQuery("#sbox_noclip").val())+"\n";
    output += "sbox_maxprops\t"+parseInt(jQuery("#sbox_maxprops").val())+"\n";
    output += "sbox_maxragdolls\t"+parseInt(jQuery("#sbox_maxragdolls").val())+"\n";
    output += "sbox_maxnpcs\t"+parseInt(jQuery("#sbox_maxnpcs").val())+"\n";
    output += "sbox_maxballoons\t"+parseInt(jQuery("#sbox_maxballoons").val())+"\n";
    output += "sbox_maxeffects\t"+parseInt(jQuery("#sbox_maxeffects").val())+"\n";
    output += "sbox_maxdynamite\t"+parseInt(jQuery("#sbox_maxdynamite").val())+"\n";
    output += "sbox_maxlamps\t"+parseInt(jQuery("#sbox_maxlamps").val())+"\n";
    output += "sbox_maxthrusters\t"+parseInt(jQuery("#sbox_maxthrusters").val())+"\n";
    output += "sbox_maxwheels\t"+parseInt(jQuery("#sbox_maxwheels").val())+"\n";
    output += "sbox_maxhoverballs\t"+parseInt(jQuery("#sbox_maxhoverballs").val())+"\n";
    output += "sbox_maxvehicles\t"+parseInt(jQuery("#sbox_maxvehicles").val())+"\n";
    output += "sbox_maxbuttons\t"+parseInt(jQuery("#sbox_maxbuttons").val())+"\n";
    output += "sbox_maxsents\t"+parseInt(jQuery("#sbox_maxsents").val())+"\n";
    output += "sbox_maxemitters\t"+parseInt(jQuery("#sbox_maxemitters").val())+"\n";
    output += "sbox_maxspawners\t"+parseInt(jQuery("#sbox_maxspawners").val())+"\n";
    output += "sbox_maxturrets\t"+parseInt(jQuery("#sbox_maxturrets").val())+"\n";
    output += "//Server Settings\n"
    output += "net_maxfilesize\t"+parseInt(jQuery("#net_maxfilesize").val())+"\n";
    output += "sv_minrate\t"+parseInt(jQuery("#sv_minrate").val())+"\n";
    output += "sv_maxrate\t"+parseInt(jQuery("#sv_maxrate").val())+"\n";
    output += "decalfrequency\t"+parseInt(jQuery("#decalfrequency").val())+"\n";
    output += "sv_maxupdaterate\t"+parseInt(jQuery("#sv_maxupdaterate").val())+"\n";
    output += "sv_minupdaterate\t"+parseInt(jQuery("#sv_minupdaterate").val())+"\n";
    output += "//Execute ban files\n"
    output += "exec banned_ip.cfg\n"
    output += "exec banned_user.cfg\n"
    jQuery("#output").text(output);
  });
  jQuery("#download").click(function() {
    if(jQuery("#output").val()=="") {
      alert("Press the 'Generate' button first!"); return false;
    }
    var blob = new Blob([jQuery("#output").val()], {
      type: "text/plain;charset=utf-8;",
    });
    saveAs(blob, "server.cfg");
  });
});